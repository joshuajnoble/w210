<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Display a map on a webpage</title>
<meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no">
<link href="https://api.mapbox.com/mapbox-gl-js/v2.6.0/mapbox-gl.css" rel="stylesheet">
<script src="https://api.mapbox.com/mapbox-gl-js/v2.6.0/mapbox-gl.js"></script>
<style>

body { margin: 0; padding: 0; }
#map { position: absolute; top: 0; bottom: 0; width: 30%; }

#features {
	position: absolute;
	top: 0;
	right: 0;
	bottom: 0;
	width: 50%;
	overflow: auto;
	background: rgba(255, 255, 255, 0.8);
}
#map canvas {
	cursor: crosshair;
}

</style>
</head>
<body>
	<div id="map"></div>
	<div id="features"></div>
	<script>
		mapboxgl.accessToken = 'pk.eyJ1Ijoiam9zaHVham5vYmxlYmVya2VsZXkiLCJhIjoiY2t3a3htbGoyMDdmMzJ1dW56c2Vmb2hnayJ9.NozspSickipOVFVsBlcPBw';
		const map = new mapboxgl.Map({
			container: 'map', // container ID
			style: 'mapbox://styles/joshuajnobleberkeley/ckwkxyp94010v14rxd9lk11jy', // style URL
			center: [-96.79, 32.77], // starting position [lng, lat]
			zoom: 12 // starting zoom
		});

		map.on('mousemove', (event) => {
			const features = map.queryRenderedFeatures(event.point);
			 
			// Limit the number of properties we're displaying for
			// legibility and performance
			const displayProperties = [
				'type',
				'properties',
				'id',
				'layer',
				'source',
				'sourceLayer',
				'state'
			];
			 
			const displayFeatures = features.map((feat) => {
				const displayFeat = {};
				displayProperties.forEach((prop) => {
					displayFeat[prop] = feat[prop];
				});
				return displayFeat;
			});
			 
			// Write object as string with an indent of two spaces.
			document.getElementById('features').innerHTML = JSON.stringify(displayFeatures,null,2);
		});


	</script>
 
</body>
</html>